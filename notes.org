#+title: Hammock's Notes

* Emacs
** Org
*** [[info:org#Motion][Motion]] / [[info:org#Global and local cycling][Cycling]]

 |-----------+-------------------------------------------------------------------|
 | Keys      | Meaning                                                           |
 |-----------+-------------------------------------------------------------------|
 | =C-c C-n= | Next heading                                                      |
 | =C-c C-p= | Previous heading                                                  |
 | =C-c C-f= | Next heading same level                                           |
 | =C-c C-b= | Previous heading same level                                       |
 | =C-c C-u= | Backward to higher level heading                                  |
 | =TAB=     | (org-cycle) rotate current subtree among folded/children, subtree |
 | =C-u TAB= | (org-cycle-global) rotate entire buffer among the states          |
 |-----------+-------------------------------------------------------------------|

*** [[info:org#Structure Editing][Structure Editing]]

 |----------------+--------------------------------------------------------|
 | Keys           | Meaning                                                |
 |----------------+--------------------------------------------------------|
 | =M-RET=        | Insert new heading with same level as current          |
 | =M-S-RET=      | Insert new TODO entry at same level as current heading |
 | =M-LEFT/RIGHT= | Promote/demote current heading by one level            |
 | =M-UP/DOWN=    | Move subtree up or down                                |
 | =C-c @=        | Mark the subtree at point                              |
 | =C-c C-x C-w=  | Kill subtree (remove, save in kill ring)               |
 | =C-c C-x M-w=  | Copy subtree (save in kill ring)                       |
 | =C-c C-x C-y=  | Yank subtree to kill ring                              |
 | =C-x n s=      | Narrow buffer to current subtree                       |
 | =C-x n w=      | Widen                                                  |
 |----------------+--------------------------------------------------------|

*** [[info:org:#Plain Lists][Plain Lists]]

 |------------------+-----------------------------------------------------------------------------|
 | Keys             | Meaning                                                                     |
 |------------------+-----------------------------------------------------------------------------|
 | =M-RET=          | Insert new item at current leve, with a prefix argument, force new heading  |
 | =M-S-RET=        | Insert a new item with a checkbox                                           |
 | =M-S-UP/DOWN=    | Move the item (including subitems) up/down, renumber as appropriate         |
 | =M-LEFT/RIGHT=   | Decrease/increase the indentation of an item, leaving children alone        |
 | =M-S-LEFT/RIGHT= | Decrease/increase the indentation of an item, including subitems            |
 | =C-c C-c=        | If there is a checkbox in the item line, toggle the state of it             |
 | =C-c -=          | Cycle the entire list level through the different itemize/enumerate bullets |
 |------------------+-----------------------------------------------------------------------------|

*** [[info:org#Tables][Tables]]
    
 |----------------+----------------------------------------------------------------------------------------|
 | Keys           | Meaning                                                                                |
 |----------------+----------------------------------------------------------------------------------------|
 | =C-c= \vert    | Convert the active region to a table                                                   |
 | =C-c C-c=      | Realign the table without moving point                                                 |
 | =TAB=          | Realign the table, move to the next field, creates a new row if necessary              |
 | =S-TAB=        | Realign the table, move to previous field                                              |
 | =S-UP/D/L/R=   | Move a cell up, down, left, or right by swapping with adjacent cell                    |
 | =M-LEFT/RIGHT= | Move the current column left/right                                                     |
 | =M-S-LEFT=     | Kill the current column                                                                |
 | =M-S-RIGHT=    | Insert a new column to the right                                                       |
 | =M-UP/DOWN=    | Move the current row up/down                                                           |
 | =M-S-UP=       | Kill the current row or horizontal line                                                |
 | =M-S-DOWN=     | Insert new row above current row, w/prefix argument, line is created below the current |
 | =C-c -=        | Insert a horizontal line below current row, w/prefix argument, creates above current   |
 | =C-c RET=      | Insert a horizontal line below current row, move point into row below that line        |
 |----------------+----------------------------------------------------------------------------------------|

*** [[info:org#Hyperlinks][Hyperlinks]]

 |------------------------+----------------------------------------------------|
 | Keys                   | Meaning                                            |
 |------------------------+----------------------------------------------------|
 | =C-c C-l=              | Insert a link or if on an existing link, edit it   |
 | =C-u C-c C-l=          | Previous command w/prefix, insert a link to a file |
 | =C-c C-o=              | Open link at point                                 |
 | =C-c C-x C-n= or =M-n= | Move forward to next link in the buffer            |
 | =C-c C-x C-p= or =M-p= | Move backward to previous link in the buffer       |
 |------------------------+----------------------------------------------------|

** [[https://docs.projectile.mx/projectile/index.html][Projectile]]

 |-------------+------------------------------------------------------------------|
 | Keys        | Meaning                                                          |
 |-------------+------------------------------------------------------------------|
 | =C-c p a=   | projectile-find-other-file (switch between header/implementation |
 | =C-x f=     | counsel-projectile-find-file                                     |
 | =C-c p s r= | counsel-projectile-rg (=-g some_dir/** -- SearchForThis=)        |
 | =C-c p c=   | projectile-compile-project                                       |
 | =C-x `=     | next-error (or =M-g n= or =M-g M-n=)                             |
 |-------------+------------------------------------------------------------------|

** [[info:emacs#Registers][Registers]]

 |-------------------+----------------------------------------------------------|
 | Keys              | Meaning                                                  |
 |-------------------+----------------------------------------------------------|
 | =C-x r s <r>=     | copy-to-register                                         |
 | =C-x r i <r>=     | insert-register (works for rectangles, too)              |
 | =C-x r r <r>=     | copy-rectangle-to-register                               |
 | =C-x r <SPC> <r>= | Record the position of point and current buffer in =<r>= |
 | =C-x r j <r>=     | Jump to the position and buffer saved in =<r>=           |
 |-------------------+----------------------------------------------------------|

** [[info:emacs#Bookmarks][Bookmarks]]

 |---------------+------------------------------------------------------------|
 | Keys          | Meaning                                                    |
 |---------------+------------------------------------------------------------|
 | =C-x r m RET= | bookmark-set (can set w/optional name)                     |
 | =C-x r M RET= | As previous, but don't overwrite existing bookmark         |
 | =C-x r b RET= | bookmark-jump                                              |
 | =C-x r B RET= | bookmark-jump, but it other window (custom function by me) |
 | =C-x r l=     | List bookmarks                                             |
 |---------------+------------------------------------------------------------|

** [[info:emacs#Dired][Dired]]

*** [[info:emacs#Flagging Many Files][Flagging Many Files]] / [[info:emacs#Marks vs Flags][Marks vs Flags]]

 |---------------------+----------------------------------------------------------------------|
 | Keys                | Meaning                                                              |
 |---------------------+----------------------------------------------------------------------|
 | =* c * D=           | Change * (marked) to D (delete)                                      |
 | =* N=               | Report number and size of marked files                               |
 | =M-}= and =M-{=     | Move to next and previous marked files                               |
 | =t=                 | Toggle all marks                                                     |
 | =* % REGEXP <RET>=  | Mark all files whose names match REGEXP                              |
 | =% d REGEXP <RET>=  | Flag for deletion all files whose names match REGEXP                 |
 | =o=                 | Visit file in other window                                           |
 | =C-o=               | As previous, but don't select the window                             |
 | =v=                 | View the file on the current line w/View mode                        |
 | =^=                 | Go up a directory                                                    |
 | =i=                 | Insert contents of subdirectory later in the buffer                  |
 | =C-M-n= and =C-M-p= | Go to next or previous subdirectory header line, regardless of level |
 | =<= and =>=         | Move to the previous or next directory file line                     |
 |---------------------+----------------------------------------------------------------------|

*** [[info:emacs#Operating on Files][Operating on Files]]

 |--------------------+------------------------------------------------------|
 | Keys               | Meaning                                              |
 |--------------------+------------------------------------------------------|
 | =S NEW <RET>=      | Make symbolic links to the specified files           |
 | =M MODESPEC <RET>= | Change the mode of the specified files (e.g., =g+w=) |
 | =G NEWGROUP <RET>= | Change group                                         |
 | =O NEWOWNER <RET>= | Change owner                                         |
 |--------------------+------------------------------------------------------|

*** [[info:emacs#Shell Commands in Dired][Shell Commands]]

 |--------------------------------+-----------------------------------------------------------------|
 | Keys                           | Meaning                                                         |
 |--------------------------------+-----------------------------------------------------------------|
 | =! tar czf foo.tar.gz * <RET>= | Runs =tar= on entire list of files, places in single archive    |
 | =! convert `?` `?`.jpg=        | Runs =convert= once per file, specifying filename in two places |
 |--------------------------------+-----------------------------------------------------------------|

** ace-window

ace-window works across both windows and frames.

  - M-o             ace-window
  - x               Delete window
  - m               Swap windows
  - M               Move window
  - c               Copy window
  - See aw-dispatch-alist for the list of prefix commands and keys

** Macros

 - F3               kmacro-start-macro-or-insert-counter
 - F4               kmacro-end-or-call-macro
 - C-u F3           Re-execute the last keyboard macro, then append keys to its definition
 - C-u C-u F3       Append keys to the last keyboard macro without re-executing it
 - C-x C-k r        Run the last keyboard macro on each line that begins in the region

** Git Gutter

 - C-x n            git-gutter:next-hunk
 - C-x p            git-gutter:previous-hunk
 - C-x v r          git-gutter:revert-hunk

** Magit

 - k                Discard changes
 - z                Stash
 - F -r u           magit-pull, rebase, from origin

** Calc

 - 1024 2 B         log_2(1024)

** AUCTeX

 - C-c C-a          compile document to PDF, show PDF

** Miscellaneous Keys

 - C-x C-x          exchange point and mark

** TODO

 - hydra
 - dired-hacks
 - dired-git
 - color-theme-sanityinc-tomorrow
 - EMMS (Emacs Multimedia System)

* Ninja
** Show all targets

 - ninja -t targets all

** Show dependency graph

 - ninja -t graph <target_name> | dot -Tpng | icat
 - ninja -t graph <target_name> | dot -Tpng -Gbgcolor=black -Ncolor=white -Ecolor=white -Nfontcolor=white | icat

* Color Themes

  - https://tmtheme-editor.herokuapp.com/#!/editor/theme
  - 1 Axar
  - 2 Blusted
  - 2 Dark Room Contrast
  - 2 Earthsong Contrast
  - 2 Flatland
  - 2 Freshcut Contrast
  - 1 GlitterBomb
  - 1 Gloom Contrast
  - 2 Gloom
  - 2 Grunge Contrast
  - 1 Halflife Contrast
  - 2 Halflife
  - 2 Hyperspace
  - 2 Iceberg Contrast
  - 1 Keen
  - 2 Kellys (dark)
  - 1 Kiwi
  - 1 Mellow Contrast
  - 2 Mirrr
  - 2 Oasis
  - 2 Pulsar
  - 2 Rails Envy
  - 1 Sourlick Contrast
  - 1 Tech 49
  - 1 Turnip Contrast
  - 1 Turnip
  - 1 Twlightcyanide Colorscheme Black

* Linux
** Kitty

  - C-S-.           increase font size
  - C-S-,           decrease font size
  - C-S-PgUp        scroll back
  - C-S-PgDn        scroll forward

** Write image to USB:
  - pv image.iso | sudo dd of=/dev/sdx conv=sync
  - To compare the written image, see checkiso in config.fish
** zoxide

 - z foo            cd to highest ranked directory matching foo
 - z foo bar        cd to highest ranked directory matching foo and bar
 - z foo/           cd into actual directory named foo
 - zi foo           cd with interactive selection using fzf
 - zq foo           echo the best match, but don't cd
 - za /foo          add /foo to the database
 - zr /foo          remove /foo from the database

** Nebulous backgrounds
 - convert -quality 75 input.jpg -strip -auto-orient -resize 4x4 -resize 3840x1600\! output.jpg
** Create hashes/de-dup pictures

 - fd -t f -0 | xargs -0 sha256sum > picture_hashes
 - fd -t -f 0 | xargs -n 1 -P 14 -0 sha256sum > picture_hashes_parallel
 - sort -k1,1 picture_hashes | uniq -w64 -D

** Rename image with date
 - exiftool '-FileName<CreateDate' -d %Y%m%d-%%f.%%e <filename>
 - Or all files in a directory:

#+begin_src shell
  for f in *
    exiftool '-FileName<CreateDate' -d %Y%m%d-%%f.%%e "$f"
  end
#+end_src

 - Inside Emacs dired, mark the files and use ! to run the command:
   exiftool '-FileName<CreateDate' -d %Y%m%d-%%f.%%e `?`

** Convert HEIF/HEIC files

#+begin_src shell
  for f in *.HEIC
  do
      echo converting $f
      heif-convert $f $f.jpg
  done
#+end_src

** Delete files listed in another file

 Assume that each line is a file, possibly with spaces in the filename

#+begin_src shell
  xargs -d '\n' rm
#+end_src

* Git
** Change remote URL from https to ssh

#+begin_src shell
  git remote -v
  git remote set-url origin git@github.com:HammockSunburn/REPOSITORY.git
#+end_src

* ZFS

 - zfs list -t snapshot                   list all snapshots
 - zfs list -o space                      list all filesystems and space taken (used, usedsnap, etc.)
 - zfs snapshot zdata/pictures@predelete  create a new snapshot

 - Snapshot sizes
   - November 27
     - data1: 792G
     - video: 11.9G
     - pictures: 71G
   - November 28
     - data1: 768G
     - video: 11.9G
     - pictures: 71G
   - November 29
     - data1: 768G
     - video: 11.9G
     - pictures: 71.7G

* Haskell
** ghci
 - :r               (or :reload) reload the same file
